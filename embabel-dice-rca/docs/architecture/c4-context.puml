@startuml C4_Context
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_WITH_LEGEND()

title System Context Diagram - Embabel Dice RCA

Person(sre, "SRE / On-Call Engineer", "Investigates production incidents and identifies root causes")
Person(platform, "Platform Engineer", "Sets up alerting and monitoring integrations")

System(rca_system, "Embabel Dice RCA", "AI-powered incident investigation system that analyzes Datadog telemetry to identify root causes and provide recommendations")

System_Ext(datadog, "Datadog", "Observability platform providing logs, metrics, APM traces, and events")
System_Ext(llm, "LLM Provider", "OpenAI / Anthropic / Ollama for AI reasoning")
System_Ext(alerting, "Alerting System", "PagerDuty, OpsGenie, or Datadog Alerts")
System_Ext(chat, "Chat Platform", "Slack, Teams, or CLI for incident communication")

Rel(sre, rca_system, "Describes incident, asks questions", "CLI / Chat")
Rel(platform, rca_system, "Configures alert ingestion", "Webhooks / API")

Rel(rca_system, datadog, "Queries logs, metrics, traces, events", "REST API")
Rel(rca_system, llm, "Sends prompts, receives analysis", "API")
Rel(alerting, rca_system, "Sends alert triggers", "Webhook / Dice Ingestion")
Rel(rca_system, chat, "Sends investigation reports", "API")

@enduml
